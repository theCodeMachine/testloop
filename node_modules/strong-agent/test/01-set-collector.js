var should = require('should');

describe('Transport', function() {
  it('selects develop collector', function() {
    var Transport = require('../lib/transport');
    var transport = Transport.init({ noConnect: true });
    transport.host.should.be.a('string');
    transport.host.should.equal('127.0.0.1');
  });

  it('overrides collector with STRONGLOOP_COLLECTOR', function() {
    process.env.STRONGLOOP_COLLECTOR = 'test_value';
    var Transport = require('../lib/transport');
    var transport = Transport.init({ noConnect: true });
    transport.host.should.be.a('string');
    transport.host.should.equal('test_value');
    delete process.env.STRONGLOOP_COLLECTOR;
  });
});
