var loopback = require('..');
var assert = require('assert');


var User1 = loopback.createModel('User1', {
    'first': String,
    'last': String,
    'age': Number,
    'password': String,
    'gender': String,
    'domain': String,
    'email': String
});

var User2 = loopback.createModel('User2', {
  'first': String,
  'last': String,
  'age': Number,
  'password': String,
  'gender': String,
  'domain': String,
  'email': String
});

User1.once('x', function(event) {
  console.log('triggered: ', 'user1');
});


User2.once('x', function(event) {
  console.log('triggered: ', 'user2');
});

console.log(User1.once === User2.once, User1.once === loopback.Model.once, User1.prototype.constructor.once === loopback.Model.once);

User1.emit('x', User1);

var EventEmitter = require('events').EventEmitter;

var events = new EventEmitter();
var f1 = EventEmitter.prototype['once'].bind(events);

var events2 = new EventEmitter();
var f2 = EventEmitter.prototype['once'].bind(events2);

console.log(f1===f2);



